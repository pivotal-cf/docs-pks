---
title: Release Notes
owner: TKGI
topictype: releasenotes
---

This topic contains release notes for <%= vars.product_full %> v1.8.

<p class="note warning"><strong>Warning:</strong> Before installing or upgrading to <%= vars.product_short %> v1.8,
review the <a href="#1-8-0-breaking-changes">Breaking Changes</a> below.
</p>

## <a id="1.8.0"></a>v1.8.0

**Release Date**: May TBD, 2020

### <a id='1-8-0-snapshot'></a>Product Snapshot

<table class="nice">
    <tr>
        <th>Release</th>
        <th>Details</th>
    </tr>
    <tr>
        <td>Version</td>
        <td>v1.8.0</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>May TBD, 2020</td>
    </tr>
    <tr>
        <th>Component</th>
        <th>Version</th>
    </tr>
    <tr>
        <td>Kubernetes</td>
        <td>v1.17.5</td>
    </tr>
    <tr>
        <td>On-Demand Broker</td>
        <td><strong>NEEDS UPDATE:</strong> v0.38.0</td>
    </tr>
    <tr>
        <td>NCP</td>
        <td>v3.0.1</td>
    </tr>
    <tr>
        <td>UAA</td>
        <td>v74.5.15</td>
    </tr>
    <tr>
        <td>Percona XtraDB Cluster (PXC)</td>
        <td><strong>NEEDS UPDATE:</strong> v0.22.0</td>
    </tr>
    <tr>
        <td>Docker</td>
        <td>v19.03.5</td>
    <tr>
        <td>etcd</td>
        <td>v3.4.3</td>
    </tr>
        <tr>
        <th>Compatibilities</th>
        <th>Versions</th>
    <tr>
        <td>Ops Manager</td>
        <td>See <a href="https://network.pivotal.io/products/pivotal-container-service"><%= vars.product_network %></a></td>
    </tr>
    <tr>
        <td>vSphere</td>
        <td>See <a href="https://www.vmware.com/resources/compatibility/sim/interop_matrix.php#interop&356=&175=&1=">VMware Product Interoperability Matrices</a></td>
    </tr>
    <tr>
        <td>NSX-T</td>
        <td>v3.0, v2.5.1, v2.5.0</td>
    </tr>
        <tr>
        <td>Xenial stemcells</td>
        <td>See <a href="https://network.pivotal.io/products/pivotal-container-service"><%= vars.product_network %></a></td>
    </tr>
    <tr>
        <td>Windows stemcells</td>
        <td>v2019.20 and later</td>
    </tr>
    <tr>
        <td>Backup and Restore SDK</td>
        <td>v1.17.0</td>
    </tr>
</table>

### <a id='1-8-0-upgrade'></a>Upgrade Path

The supported upgrade paths to <%= vars.product_short %> v1.8.0 are from <%= vars.product_short %> v1.8.0 and later.

### <a id="1-8-0-features"></a>Features

This section describes new features and changes in <%= vars.product_full %> v1.8.0.

#### <a id="1-8-0-tkgi-upgrade"></a><%= vars.k8s_runtime_abbr %> Upgrades

* Removes the **Upgrade - MySQL Clone** errand from the **Errands** pane and the post-deployment scripts.

#### <a id="1-8-0-tkgi-core"></a><%= vars.k8s_runtime_abbr %> Control Plane and API


#### <a id="1-8-0-bosh-lifecycle"></a>Kubernetes Control Plane

* On Azure, <%= vars.product_short %> supports disabling the creation of a default outbound SNAT rule for clusters. 
See [Kubernetes Cloud Provider](installing-azure.html#cloud-provider) 
for how to disable the default SNAT rule.

#### <a id="1-8-0-logging-monitoring"></a><%= vars.k8s_runtime_abbr %> Monitoring and Logging

* All <%= vars.product_short %> components now use TLS v1.2 with strong ciphers. 
The `metrics-server` component now communicates over TLS v1.2 with strong ciphers, and
`sslscan` on a metrics-server over port `443` now reports only TLS 1.2+ ciphers.

####<a id="1-8-0-windows-features"></a>Windows on <%= vars.k8s_runtime_abbr %>


####<a id="1-8-0-nsx-t-features"></a><%= vars.k8s_runtime_abbr %> with NSX-T Networking


#### <a id="1-8-0-telemetry"></a>Customer Experience Improvement Program (CEIP) and Telemetry

* Removes the legacy Telemetry DB from the <%= vars.control_plane_db %>. 

#### <a id="1-8-0-component-updates"></a>Component Updates

* Bumps Kubernetes to v1.17.5.
* Bumps NCP to v3.0.1.
* Bumps UAA to v74.5.15.

####<a id="1-8-0-bug-fixes"></a>Bug Fixes

<%= vars.product_short %> v1.8.0 includes the following bug fixes:

* `pks upgrade-cluster` errand no longer times out when stopping dockerd processes.
* `pks tasks` no longer returns:  

    ```
    Error: An error occurred in the PKS API when processing.
    ```

### <a id='1-8-0-breaking-changes'></a>Breaking Changes

<%= vars.product_short %> v1.8.0 has the following breaking changes:


###<a id='1-8-0-known-issues'></a>Known Issues

<%= vars.product_short %> v1.8.0 has the following known issues:

#### <a id='1-8-0-ops-manager'></a><%= vars.product_short %> v1.8 (Windows) on vSphere Not Compatible with Ops Manager v2.9

<%= vars.product_short %> v1.8 installations with Windows worker-based
Kubernetes clusters on vSphere (Flannel)
are not compatible with Ops Manager v2.9.
If you do not intend to deploy and run Windows worker-based Kubernetes clusters,
you can use Ops Manager v2.9 with <%= vars.product_short %> v1.8.

For Ops Manager compatibility information,
see [<%= vars.product_network %>](https://network.pivotal.io/products/pivotal-container-service).

#### <a id="1-8-0-tmc-on-gcp"></a>TMC Integration Not Supported on GCP

<%= vars.product_short %> on Google Cloud Platform (GCP) does not support
Tanzu Mission Control integration, which is configured in
the **<%= vars.product_tile %>** tile > the **Tanzu Mission Control (Experimental)** pane.

If you intend to run <%= vars.product_short %> v1.8 on GCP,
skip this pane when configuring the <%= vars.product_tile %> tile.

#### <a id="1-8-0-oidc-response-header"></a>502 Bad Gateway After OIDC Login  

**Symptom**  

You experience a "502 Bad Gateway" error from the NSX load balancer after you log in to OIDC.  

**Explanation**  

A large response header has exceeded your NSX-T load balancer maximum 
response header size. The default maximum response header size is 10,240 characters and should 
be resized to 50,000.  

**Workaround**  

If you experience this issue, manually reconfigure your NSX-T `request_header_size` 
and `response_header_size` to 50,000 characters. 
For information about configuring NSX-T default header sizes, 
see [OIDC Response Header Overflow](https://community.pivotal.io/s/article/OIDC-Response-Header-overflow) in the Knowledge Base.  

#### <a id='1-8-0-uuid-length'></a> One Plan ID Longer than Other Plan IDs  

**Symptom**  

One of your plan IDs is one character longer than your other plan IDs.  

**Explanation**  

In <%= vars.product_short %>, each plan has a unique plan ID. 
A plan ID is normally a UUID consisting of 32 alphanumeric characters and 4 hyphens. 
However, the **Plan 4** ID consists of 33 alphanumeric characters and 4 hyphens.  

**Solution**  

You can safely configure and use **Plan 4**. 
The length of the **Plan 4** ID does not affect the functionality of **Plan 4** clusters.  

If you require all plan IDs to have identical length, do not activate or use **Plan 4**.  

#### <a id='1-8-0-eight-cores-error'></a> NSX-T Pre-Check Errand Fails Due to Edge Node Configuration  

**Symptom**  

You have configured your NSX-T Edge Node VM as `medium` size, 
and the NSX-T Pre-Check Errand fails with the following error: 
"_ERROR: NSX-T Precheck failed due to Edge Node ... no of cpu cores is less than 8_". 

**Explanation**  

The NSX-T Pre-Check Errand is erroneously returning the "_cpu cores is less than 8_" error.

**Solution**  

You can safely configure your NSX-T Edge Node VMs as `medium` size and ignore the error. 

#### <a id='1-8-0-windows-proxy'></a> Difficulty Changing Proxy for Windows Workers

You must configure a global proxy in the <%= vars.product_tile %> tile > **Networking** pane before you create any Windows workers that use the proxy.

You cannot change the proxy configuration for Windows workers in an existing cluster.


## <a id="management-console-1.8.0"></a> <%= vars.product_short %> Management Console 1.8.0

**Release Date**: MAY TBD, 2020

### <a id="management-console-1.8.0-features"></a>Features

<%= vars.product_short %> Management Console v1.8.0 updates include:

TBD

### <a id="management-console-1.8.0-snapshot"></a>Product Snapshot

<p class="note"><strong>Note</strong>: <%= vars.product_short %> Management Console provides an opinionated 
    installation of <%= vars.product_short %>. The supported versions may differ from or be more limited than 
    what is generally supported by <%= vars.product_short %>.</p>

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
      <td>Version</td>
      <td>v1.8.0</td>
    </tr>
    <tr>
      <td>Release date</td>
      <td>May TBD, 2020</td>
    </tr>
    <tr>
      <td>Installed Tanzu Kubernetes Grid Integrated Edition version</td>
      <td>v1.8.0</td>
    </tr>
    <tr>
      <td>Installed Ops Manager version</td>
      <td>v2.9.0</td>
    </tr>
    <tr>
      <td>Installed Kubernetes version</td>
        <td>v1.17.5</td>
    </tr>
    <tr>
      <td>Compatible NSX-T versions</td>
      <td>v3.0, v2.5.1, v2.5.0</td>
    </tr>
    <tr>
      <td>Installed Harbor Registry version</td>
      <td>v2.0, v1.10.2</td>
    </tr>
</table>

### <a id='management-console-1-8-0-upgrade'></a>Upgrade Path

The supported upgrade path to <%= vars.product_short %> Management Console v1.8.0 is from 
<%= vars.product_short %> v1.8.0 and later.

### <a id="management-console-1.8.0-known-issues"></a> Known Issues

The <%= vars.product_short %> Management Console v1.8.0 appliance and user interface 
have the following known issues:

#### <a id="management-console-1.8.0-k8s-profile"></a> Base64 encoded file arguments are not decoded in Kubernetes profiles

**Symptom**

Some file arguments in Kubernetes profiles are base64 encoded. When the management console displays the Kubernetes profile, 
some file arguments are not decoded.

**Workaround**

Run `echo "$content" | base64 --decode` 

#### <a id="management-console-1.8.0-opsman-fqdn"></a> Cannot specify Ops Manager EQDN addresses during upgrade.

**Symptom**

This release allows you to specify an FQDN for the Ops Manager VM during deployment of <%= vars.product_short %>. 
This only applies to new deployments. You cannot specify an FQDN during upgrade.

**Workaround**

None

#### <a id="management-console-1.8.0-network-profile"></a> Network profiles not immediately selectable

**Symptom**

If you create network profiles and then try to apply them in the Create Cluster page, the new profiles 
are not available for selection. 

**Workaround**

Log out of the management console and log back in again.

#### <a id="management-console-1.8.0-cluster-summary"></a> Real-Time IP information not displayed for network profiles

**Symptom**

In the cluster summary page, only default IP pool, pod IP block, node IP block values are displayed, 
rather than the real-time values from the associated network profile. 

**Workaround**

None