Errands are scripts that run at designated points during an installation.  

To configure which post-deploy and pre-delete errands run for 
<%= vars.product_short %>:

1. Make a selection in the dropdown next to each errand.  
<% if current_page.data.iaas == "vSphere-NSX-T" %>
    <p class="note"><strong>Note</strong>: We recommend that you use the 
    default settings for all errands except for the <strong>NSX-T validation</strong> 
    and <strong>Run smoke tests</strong> errands.
    </p> 
<% else %>
    <p class="note"><strong>Note</strong>: We recommend that you use the 
    	default settings for all errands except for the **Run smoke tests** errand.
    </p> 
<% end %>
<% if current_page.data.iaas == "vSphere-NSX-T" %>
1. (Optional) Set the **NSX-T validation** errand to **On**.  
<br>
    This errand verifies the NSX-T objects.
<% end %>
1. (Optional) Set the **Run smoke tests** errand to **On**.  

    This errand uses the <%= vars.k8s_runtime_abbr %> CLI to create a Kubernetes cluster and then delete it.
    If the creation or deletion fails, the errand fails and the installation 
    of the <%= vars.product_tile %> tile is aborted.  
<% if current_page.data.iaas == "vSphere" %>
1. (Optional) If you have activated the **Run smoke tests** errand, you can configure a Network Profile the test cluster should use.
To configure a Smoke Test Network Profile, configure **Errand Settings** > **Smoke tests - Network Profile Name**.  

    By default a smoke test errand cluster uses the configuration settings on the <%= vars.k8s_runtime_abbr %> tile. 
    To create smoke test errand clusters with a custom configuration, create a Network Profile with your preferred smoke test settings and configure **Smoke tests - Network Profile Name** with the smoke test Network Profile's name.  
<% end %>
<% if current_page.data.iaas == "vSphere-NSX-T" %>
1. (Optional) If you have activated the **Run smoke tests** errand, you can configure a Network Profile the test cluster should use.
To configure a Smoke Test Network Profile, configure **Errand Settings** > **Smoke tests - Network Profile Name**.  

    By default a smoke test errand cluster uses the configuration settings on the <%= vars.k8s_runtime_abbr %> tile. 
    To create smoke test errand clusters with a custom configuration, create a Network Profile with your preferred smoke test settings and configure **Smoke tests - Network Profile Name** with the smoke test Network Profile's name.  
<% end %>

1. (Optional) To ensure that all of your cluster VMs are patched, 
    configure the **Upgrade all clusters errand** errand to **On**.  
<br>
    Updating the <%= vars.product_tile %> tile with a new 
	Linux stemcell and the **Upgrade all clusters errand** enabled 
	triggers the rolling of every Linux VM in each Kubernetes cluster. 
	Similarly, updating the <%= vars.product_tile %> tile with a new Windows stemcell triggers 
	the rolling of every Windows VM in your Kubernetes clusters.  
    <p class="note"><strong>Note:</strong> <%= vars.recommended_by %> recommends that you 
    review the Tanzu Network metadata and confirm stemcell version compatibility before using 
    the Tanzu Network APIs to update the stemcells in your automated pipeline. 
    For more information, see the <a href="https://network.pivotal.io/docs/api#release_dependencies">API reference</a>.
    </p>
